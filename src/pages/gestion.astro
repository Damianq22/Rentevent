---
import GestionProveedor from "../components/GestionProveedor.astro";
import GestionUsuario from "../components/GestionUsuario.astro";
import Sidebar from "../components/UI/Sidebar.astro";
import LayoutGestion from "../layouts/LayoutGestion.astro";

const params = Astro.url.searchParams;
const view = params.get("view");

let SelectedComponent;
switch (view) {
  case "gestion-usuarios":
    SelectedComponent = GestionUsuario;
    break;
  case "gestion-proveedores":
    SelectedComponent = GestionProveedor;
    break;
  default:
    SelectedComponent = GestionProveedor;
}
---

<LayoutGestion>
  <div class="flex min-h-screen">
    <section class="w-64">
      <Sidebar currentView={view} />
    </section>
    <main class="flex-1 p-6 overflow-auto">
      <slot />
      <SelectedComponent />
    </main>
  </div>
</LayoutGestion>
<style>
  main {
    margin: 0;
    width: 100%;
    height: 100%;
  }
</style>
